{"version":3,"sources":["components/Nav/index.js","components/UpForm.js","pages/Gallery.js","App.js","index.js"],"names":["Nav","id","class","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","Link","to","Upform","useState","imgData","setImgD","upImg","setUp","title","setTitle","caption","setCaption","showUp","setShow","handleDChange","event","name","target","val","value","className","accept","encType","onChange","console","log","files","onClick","preventDefault","formData","FormData","append","p","axios","post","then","response","data","placeholder","src","alt","pObj","url","res","Gallery","imgs","setImgs","useEffect","get","catch","err","handleDelete","items","newPlist","splice","findIndex","i","_id","delete","length","map","key","App","Switch","Route","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9c42744a.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nfunction Nav() {\n  return (\n    <nav id='logo' class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <a class=\"navbar-brand\"  href=\"#\">Image Uploader</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item active\">\n          <Link class=\"nav-link\" to=\"/\">Gallery <span class=\"sr-only\">(current)</span></Link>\n        </li>\n        <li class=\"nav-item\">\n          <Link class=\"nav-link\" to=\"/upload\">Upload</Link>\n        </li>\n      </ul>\n    </div>\n  </nav>\n  //   <nav id='logo' className=\"navbar navbar-expand-lg\">\n  //     <a href=\"/\">\n  //     Image Uploader\n  //     </a>\n  //   </nav>\n  );\n}\n\nexport default Nav;\n","import React,{useState} from \"react\";\nimport Dropzone from 'react-dropzone'\nimport axios from 'axios'\n\nfunction Upform(){\n    const[imgData, setImgD]=useState('')\n    const[upImg, setUp]=useState(\"http://res.cloudinary.com/dm2obdaq7/image/upload/v1606513823/trvr1yzvg3pz0mq44v6k.gif\")\n    const[title, setTitle]=useState('')\n    const[caption,setCaption]=useState('')\n    const[showUp, setShow]=useState(true)\n    const handleIChange=(event)=>{\n      console.log(event.target.files[0])\n      setImgD(event.target.files[0])\n    }\n    const handleDChange=(event)=>{\n      let name=event.target.id\n      let val=event.target.value\n      if (name===\"title\"){\n        setTitle(val)\n      }\n      else if(name===\"caption\"){\n        setCaption(val)\n      }\n    }\n    const handlefile=(event)=>{\n      event.preventDefault()\n      setShow(false)\n    //################## package file info and send it back\n      var formData = new FormData();\n      formData.append('file',imgData );\n\n      for (var p of formData) {\n        console.log(p);\n      }\n      axios.post('/api/pics/i2',formData).then((response)=>{\n        console.log (response)\n        setUp(response.data)\n        setShow(false)\n      })\n      //##################\n  }\n  const addPic=()=>{\n    const pObj={\n      title:title,\n      url: upImg,\n      caption:caption\n    }\n    axios.post('/api/pics/dbpic',pObj).then(res=>{\n      console.log(res)\n    })\n  }\n  return(\n      <div>\n        {showUp?\n        <div className=\"row\">\n          <div className=\"col-sm-10 offset-sm-1\">  \n            < div  className=\"card\">\n              <input id=\"imgI\" type='file' accept=\"image/*\" name=\"file\" encType=\"multipart/form-data\" onChange={handleIChange} />\n              <button id=\"upload\"type='button'  onClick={handlefile}>Upload</button>\n\n              {/* <form  action=\"/api/pics/image\" method=\"post\" encType=\"multipart/form-data\" >\n                  <input type=\"file\" name=\"avatar\" />\n                  <button id='picB' type = \"submit\" >submit</button>\n              </form> */}\n            </div>\n          </div>\n        </div>:\n            <>\n            </>\n\n        }\n            {/* <input id=\"imgI\" type='file' accept=\"image/*\" name=\"file\" encType=\"multipart/form-data\" onChange={handleIChange} />\n            <input type='button' value=\"Upload\" onClick={handlefile}/>\n\n            <form  action=\"/api/pics/image\" method=\"post\" encType=\"multipart/form-data\" >\n                <input type=\"file\" name=\"avatar\" />\n                <button type = \"submit\" >submit</button>\n            </form> */}\n            {!showUp?\n              <div className=\"row\">\n              <div className=\"col-sm-10 offset-sm-1 col-md-6 offset-md-3\">\n                  <div className=\"card\">\n                      \n\n                        <input id='title' name='title' type='text' placeholder=\"Title\" value={title} onChange={handleDChange} />\n                        <img id=\"upImg\"src={upImg} alt=\"No Image Yet\"/>\n                        <textarea id='caption' name='caption' type='text' placeholder=\"Caption this\" value={caption}onChange={handleDChange} />\n                        <button id='addPic' onClick={addPic}>Add To Pictures</button>\n                      \n                  </div>\n              </div>          \n          </div>:<></>\n            }\n          \n            \n      </div>\n  )\n}\nexport default Upform","import React , {useState,useEffect} from 'react'\nimport axios from 'axios'\nimport DeleteBtn from '../components/DeleteBtn'\nfunction Gallery(){\n    const [imgs, setImgs]=useState([])\n    useEffect(() => {\n        axios.get('/api/pics/mypics')\n            .then(res=>{\n                setImgs(res.data)\n            })\n            .catch(err => console.log(err));\n      }, [])\n\n      const handleDelete = (event)=>{\n          event.preventDefault();\n        console.log(event.target.name)\n        let id= event.target.name\n        let items=imgs\n        let newPlist= items.splice(items.findIndex(function(i){\n            return i._id === id;\n        }), 1)\n        console.log(newPlist)\n        \n        axios.delete('/api/pics/'+id).then(data=>{\n            console.log(data);\n        })\n\n      }\n    // const showImgs=()=>{\n    //     axios.get('/api/pics/mypics').then(res=>{\n    //         setImgs(res.data)\n    //     })\n    // }\nreturn(\n    <div className=\"container \">\n        {/* <button onClick={showImgs}> Show Imgs </button> */}\n        <div className=\"row\">\n        {imgs.length >0? \n        imgs.map((data)=>{\n            return(\n            <div className=\"col-md-12 col-lg-6\">\n                <div className=\"card\" key={data._id}>\n                    <div className=\"row\">\n                        <div className=\"col-sm-10\">\n                            <h2 className=\"card-title\">{data.title}</h2>\n                        </div>\n                        <div className=\"col-sm-2\">\n                            <button name={data._id} onClick={handleDelete} className=\"delete-btn\">X</button>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        {/* <div className=\"card-content\"> */}\n                            <div className='container'>\n                            <img src={data.url}class=\"img-fluid\" alt=\"Image Missing\" id=\"upImg\"/>\n                            </div>\n                            {/* <img src={data.url} alt=\"Image Missing\" id=\"upImg\"/> */}\n                        {/* </div> */}\n                    </div>\n                    <div className=\"row\">\n                    <p>{data.caption}</p>\n                    </div>       \n                </div>\n            </div>)\n        }):<div></div>}\n        </div>\n\n    </div>\n)\n}\nexport default Gallery;","import React from \"react\";\nimport Nav from \"./components/Nav\";\nimport Upform from \"./components/UpForm\";\nimport Gallery from \"./pages/Gallery\"\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nfunction App() {\n  \n  return (\n    <Router>\n      <div>\n        <Nav />\n        <Switch>\n          <Route exact path=\"/\">\n            <Gallery/>\n          </Route>\n          <Route exact path=\"/upload\">\n            <Upform/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./App.css\"\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}