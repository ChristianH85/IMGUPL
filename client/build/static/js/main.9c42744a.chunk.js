(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{24:function(e,a,t){e.exports=t(50)},49:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(19),r=t.n(c),i=t(53);var o=function(){return l.a.createElement("nav",{id:"logo",class:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("a",{class:"navbar-brand",href:"#"},"Image Uploader"),l.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{class:"navbar-toggler-icon"})),l.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{class:"navbar-nav"},l.a.createElement("li",{class:"nav-item active"},l.a.createElement(i.a,{class:"nav-link",to:"/"},"Gallery ",l.a.createElement("span",{class:"sr-only"},"(current)"))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(i.a,{class:"nav-link",to:"/upload"},"Upload")))))},s=t(20),m=t(5),u=(t(51),t(6)),d=t.n(u);var v=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)("http://res.cloudinary.com/dm2obdaq7/image/upload/v1606513823/trvr1yzvg3pz0mq44v6k.gif"),i=Object(m.a)(r,2),o=i[0],u=i[1],v=Object(n.useState)(""),p=Object(m.a)(v,2),g=p[0],E=p[1],f=Object(n.useState)(""),b=Object(m.a)(f,2),h=b[0],N=b[1],y=Object(n.useState)(!0),j=Object(m.a)(y,2),O=j[0],k=j[1],w=function(e){var a=e.target.id,t=e.target.value;"title"===a?E(t):"caption"===a&&N(t)};return l.a.createElement("div",null,O?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-10 offset-sm-1"},l.a.createElement("div",{className:"card"},l.a.createElement("input",{id:"imgI",type:"file",accept:"image/*",name:"file",encType:"multipart/form-data",onChange:function(e){console.log(e.target.files[0]),c(e.target.files[0])}}),l.a.createElement("button",{id:"upload",type:"button",onClick:function(e){e.preventDefault(),k(!1);var a=new FormData;a.append("file",t);var n,l=Object(s.a)(a);try{for(l.s();!(n=l.n()).done;){var c=n.value;console.log(c)}}catch(r){l.e(r)}finally{l.f()}d.a.post("/api/pics/i2",a).then((function(e){console.log(e),u(e.data),k(!1)}))}},"Upload")))):l.a.createElement(l.a.Fragment,null),O?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-10 offset-sm-1 col-md-6 offset-md-3"},l.a.createElement("div",{className:"card"},l.a.createElement("input",{id:"title",name:"title",type:"text",placeholder:"Title",value:g,onChange:w}),l.a.createElement("img",{id:"upImg",src:o,alt:"No Image Yet"}),l.a.createElement("textarea",{id:"caption",name:"caption",type:"text",placeholder:"Caption this",value:h,onChange:w}),l.a.createElement("button",{id:"addPic",onClick:function(){var e={title:g,url:o,caption:h};d.a.post("/api/pics/dbpic",e).then((function(e){console.log(e)}))}},"Add To Pictures")))))};var p=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)((function(){d.a.get("/api/pics/mypics").then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[]);var r=function(e){e.preventDefault(),console.log(e.target.name);var a=e.target.name,n=t,l=n.splice(n.findIndex((function(e){return e._id===a})),1);console.log(l),d.a.delete("/api/pics/"+a).then((function(e){console.log(e)}))};return l.a.createElement("div",{className:"container "},l.a.createElement("div",{className:"row"},t.length>0?t.map((function(e){return l.a.createElement("div",{className:"col-md-12 col-lg-6"},l.a.createElement("div",{className:"card",key:e._id},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("h2",{className:"card-title"},e.title)),l.a.createElement("div",{className:"col-sm-2"},l.a.createElement("button",{name:e._id,onClick:r,className:"delete-btn"},"X"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"container"},l.a.createElement("img",{src:e.url,class:"img-fluid",alt:"Image Missing",id:"upImg"}))),l.a.createElement("div",{className:"row"},l.a.createElement("p",null,e.caption))))})):l.a.createElement("div",null)))},g=t(54),E=t(55),f=t(56);var b=function(){return l.a.createElement(g.a,null,l.a.createElement("div",null,l.a.createElement(o,null),l.a.createElement(E.a,null,l.a.createElement(f.a,{exact:!0,path:"/"},l.a.createElement(p,null)),l.a.createElement(f.a,{exact:!0,path:"/upload"},l.a.createElement(v,null)))))};t(49);r.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.9c42744a.chunk.js.map